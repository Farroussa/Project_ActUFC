<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>News - Act'UFC</title>
    <link rel= "stylesheet" href="../CSS/style.css">
    <script src="../JS/script.js" async></script>
    <script src="../../controller.js" async></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<!-- Header -->
  <header>
    <div class ="container">
      <div class ="logoheader">
        <a href="Accueil.html"><img src="../IMG/Logo2.png" alt="logo"></a>
      </div>
      <div class="menuheader" onclick="accueil()">
        <img src="../IMG/menu.png" alt="menu" id="menuheader">
      </div>
      <nav>
        <ul>
          <li class="titre"><button class="accueil" onclick="accueil()">Act'UFC</button></li>
          <li class="rien">rien</li>
          <li class="rien">rien</li>
          <li class="rien">rien</li>
          <li class="liens" id="lien1"><a href="Accueil.html">Home</a></li>
          <li class="liens" id="lien2"><a href="News.html">News</a></li>
          <li class="liens" id="lien3"><a href="Ranking.html">Ranking</a></li>
          <li class="liens" id="lien4"><a href="YourArticle.html">Blog</a></li>
          <li class="liens" id="lien5"><a href="Quizz.html">Quizz</a></li>
          <li class="liens" id="lien6"><a href="About.html">About</a></li>
          <li class="liens" id="lien7"><a href="Suggestions.html">Suggestions</a></li>
        </ul>
      </nav>
    </div>
  </header>

<!-- Main Content -->
  <main>

    <script>
      function addCommentToArticle(button) {
          const commentForm = button.parentElement.querySelector('.comment-form');
          const commentUsernameInput = document.getElementById('commentUsername');
          const commentTextInput = document.getElementById('commentText');
  
          const commentUsername = commentUsernameInput.value;
          const commentText = commentTextInput.value;
  
          if (!commentUsername || !commentText) {
              alert('Please fill in both username and comment fields.');
              return;
          }
  
          const commentData = {
              Username: commentUsername,
              Comment: commentText,
          };
  
          fetch('/addComment', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify(commentData),
          })
              .then((response) => {
                  if (response.status === 201) {
                      alert('Comment added successfully');
                      commentUsernameInput.value = '';
                      commentTextInput.value = '';
                  } else {
                      commentUsernameInput.value = '';
                      commentTextInput.value = '';
                      envoyerMessage();
                  }
              })
              .catch((error) => {
                  console.error(error);
              });
      }

      function envoyerMessage() {
        const messageInput = document.getElementById("commentText0").value;
        const messageText = messageInput.value;
        console.log(messageText);
        console.log(messageInput);
        if (messageText !== "") {
            var messageContainer = document.getElementById("messageContainer");
            var messageDiv = document.createElement("div");
            messageDiv.className = "box";
            messageDiv.innerText = messageText;

            // Insère le nouveau message au début de la liste des messages
            messageContainer.insertBefore(messageDiv, messageContainer.firstChild);

            // Efface le champ de texte après avoir envoyé le message
            messageInput.value = "";
            console.log("zdqzd");
        }
    }
  
      function toggleCommentForm(button) {
          const commentForm = button.parentElement.querySelector('.comment-form');
          const addCommentButton = button;
  
          if (commentForm.style.display === 'none' || commentForm.style.display === '') {
              commentForm.style.display = 'block';
              addCommentButton.textContent = 'Cancel';
          } else {
              commentForm.style.display = 'none';
              addCommentButton.textContent = 'Add Comment';
          }
      }
  </script>  

    <div class="container">
      <h1>Latest UFC News</h1>
      <section>

        <article>
          <label for="articleID"></label>
          <input type="hidden" id="articleID" name="articleID" value="287"><br>
            <h3>UFC 287, a revenge for honor, Adesanya takes back his belt</h3>
            <div class="blog">
              <img class="news" src="../IMG/AdesanyaPereiraV2.jpeg" alt="Pereira's loss">
              <p class="blog-txt">In a highly anticipated matchup, Pereira suffered a defeat against Adesanya.
                Pereira, known for his flashy style and unpredictable moves, was unable to find his rhythm against
                the skilled and calculated Adesanya. Despite his valiant efforts, Pereira struggled to penetrate
                Adesanya's defense and was met with precise strikes and counterattacks. Adesanya's superior
                technique and strategic approach proved to be the deciding factor, ultimately leading him to
                victory over Pereira.</p>
            </div>
            <!-- API 3 this allows you to send a comment under a post -->
            <div class="article">
              <button class="toggle-comment-form" onclick="toggleCommentForm(this)">Add Comment</button>
              <div class="comment-form" style="display: none;">
                  <label for="username">Enter Username:</label>
                  <input id="commentUsername" type="text" class="username" placeholder="Enter Username"><br>
                  <label for="commentText0">Enter Comment:</label>
                  <input id="commentText" type="text" class="commentText" placeholder="Enter Comment"><br>
                  <button class="sendButton" onclick="addCommentToArticle(this)">Send</button>
              </div>
              <div id="messageContainer" class="comments">
              </div>
          </div>
          
          


        </article>

        <article>
          <label for="articleID"></label>
          <input type="hidden" id="articleID" name="articleID" value="286"><br>
          <h3>UFC 286, Leon Edwards keeps his belt</h3>
          <div class="blog">
            <img class="news" src="../IMG/EdwardsUsman.jpeg" alt="Usman's loss">
            <p class="blog-txt">
              In a closely contested battle, Usman faced a defeat against Edwards. Usman, known for his dominant
              wrestling and relentless pressure, found himself challenged by Edward's well-rounded skill set.
              Edwards showcased his striking prowess and defensive skills, effectively countering Usman's takedown
              attempts and landing clean shots. Despite Usman's relentless efforts to impose his game plan, Edwards
              remained composed and strategic throughout the fight. In the end, Edwards' technical proficiency and
              ability to neutralize Usman's strengths proved pivotal in securing his victory over the formidable
              welterweight champion.</p>
          </div>

          <div class="article">
            <button class="toggle-comment-form" onclick="toggleCommentForm(this)">Add Comment</button>
            <div class="comment-form" style="display: none;">
                <label for="username">Enter Username:</label>
                <input type="text" class="username" placeholder="Enter Username"><br>
                <label for="commentText">Enter Comment:</label>
                <input type="text" class="commentText" placeholder="Enter Comment"><br>
                <button class="sendButton" onclick="addCommentToArticle(this)">Send</button>
            </div>
            <div id="messageContainer" class="comments">
            </div>
        </div>
        
     

        </article>

        <article>
          <label for="articleID"></label>
          <input type="hidden" id="articleID" name="articleID" value="285"><br>
          <h3>UFC 285, Cyril Gane's loss to Jonh Jones for the UFC heavywheight belt.</h3>
          <div class="blog">
            <img class="news" src="../IMG/Gane.jpeg" alt="Gane's loss">
            <p class="blog-txt">In a highly anticipated bout, Cyril Gane faced off against Jon Jones,
              two formidable heavyweight fighters. However, it was Jon Jones who emerged victorious,
              delivering a stunning defeat to Gane. Despite Gane's impressive skills and technique,
              Jones proved to be the more dominant and experienced fighter, showcasing his unmatched
              prowess in the octagon. Gane's defeat serves as a reminder of the immense talent and legacy
              that Jones has built throughout his career, solidifying his status as one of the greatest
              fighters in mixed martial arts history.</p>
          </div>
 
          <div class="article">
            <button class="toggle-comment-form" onclick="toggleCommentForm(this)">Add Comment</button>
            <div class="comment-form" style="display: none;">
                <label for="username">Enter Username:</label>
                <input type="text" class="username" placeholder="Enter Username"><br>
                <label for="commentText">Enter Comment:</label>
                <input type="text" class="commentText" placeholder="Enter Comment"><br>
                <button class="sendButton" onclick="addCommentToArticle(this)">Send</button>
            </div>
            <div class="comments">
            </div>
        </div>
     

        </article>
        <article>
          <label for="articleID"></label>
          <input type="hidden" id="articleID" name="articleID" value="284"><br>
          <h3>UFC 284, Islam Makhachev's difficult victory aigainst Alex Volkanovski.</h3>
          <div class="blog">
            <img class="news" src="../IMG/Alex.jpeg" alt="Makhachev's victory">
            <p class="blog-txt">In an electrifying showdown, Islam Makhachev squared off against Alexander Volkanovski,
              two formidable fighters from different weight classes. However, it was Makhachev who emerged triumphant,
              securing an impressive victory over Volkanovski. Makhachev's relentless pressure, combined with
              his exceptional grappling skills, proved to be the decisive factor in the fight. Despite Volkanovski's
              resilience and striking prowess, he struggled to contend with Makhachev's dominant ground game.
              This victory solidifies Makhachev's rise in the sport, showcasing his exceptional talent and positioning
              him as a formidable force in the world of mixed martial arts.</p>
          </div>
          
          <div class="article">
            <button class="toggle-comment-form" onclick="toggleCommentForm(this)">Add Comment</button>
            <div class="comment-form" style="display: none;">
                <label for="username">Enter Username:</label>
                <input type="text" class="username" placeholder="Enter Username"><br>
                <label for="commentText">Enter Comment:</label>
                <input type="text" class="commentText" placeholder="Enter Comment"><br>
                <button class="sendButton" onclick="addCommentToArticle(this)">Send</button>
            </div>
            <div class="comments">
            </div>
        </div>
     

        </article>
        <article>
          <label for="articleID"></label>
          <input type="hidden" id="articleID" name="articleID" value="281"><br>
          <h3>UFC 281, first defeat of Adesanya.</h3>
          <div class="blog">
            <img class="news" src="../IMG/AdesanyaPereiraV1.jpeg" alt="Adesanya's loss">
            <p class="blog-txt">In a surprising turn of events, Adesanya faced defeat against Pereira in a highly anticipated
              match. Adesanya, known for his exceptional skills and unbeaten streak, couldn't overcome Pereira's relentless
              determination and strategic prowess. Despite putting up a valiant fight, Adesanya's techniques fell short against
              Pereira's calculated moves, resulting in a humbling loss for the renowned fighter. This unexpected outcome has sent
              shockwaves through the MMA community, leaving fans eager to see how Adesanya will bounce back from this defeat and reclaim
              his dominance in future bouts.</p>
          </div>
           
          <div class="article">
            <button class="toggle-comment-form" onclick="toggleCommentForm(this)">Add Comment</button>
            <div class="comment-form" style="display: none;">
                <label for="username">Enter Username:</label>
                <input type="text" class="username" placeholder="Enter Username"><br>
                <label for="commentText">Enter Comment:</label>
                <input type="text" class="commentText" placeholder="Enter Comment"><br>
                <button class="sendButton" onclick="addCommentToArticle(this)">Send</button>
            </div>
            <div class="comments">
            </div>
        </div>
     

        </article>
        <article>
          <label for="articleID"></label>
          <input type="hidden" id="articleID" name="articleID" value="280"><br>
          <h3>UFC 280, The true lightwheight king : Makhachev vs Oliveira</h3>
          <div class="blog">
            <img class="news" src="../IMG/IslamvsCharles.jpeg" alt="Islam vs Charles">
            <p class="blog-txt">In a highly anticipated matchup between Islam Makhachev and Charles Oliveira, two elite lightweight
              fighters, it was Makhachev who emerged as the victor, securing a significant win over Oliveira. Makhachev's relentless
              pressure and superior grappling skills proved to be the determining factor in the fight. Despite Oliveira's renowned submission
              expertise, Makhachev showcased his defensive prowess, successfully neutralizing Oliveira's ground game and dominating the exchanges
              on the feet. Makhachev's victory solidifies his position as a rising star in the lightweight division and establishes him as a
              legitimate contender for the title. This fight will be remembered as a pivotal moment in Makhachev's career, further solidifying
              his status as one of the most promising fighters in the sport.</p>
          </div>
           
          <div class="article">
            <button class="toggle-comment-form" onclick="toggleCommentForm(this)">Add Comment</button>
            <div class="comment-form" style="display: none;">
                <label for="username">Enter Username:</label>
                <input type="text" class="username" placeholder="Enter Username"><br>
                <label for="commentText">Enter Comment:</label>
                <input type="text" class="commentText" placeholder="Enter Comment"><br>
                <button class="sendButton" onclick="addCommentToArticle(this)">Send</button>
            </div>
            <div class="comments">
            </div>
        </div>
     

        </article>
        <article>
          <label for="articleID"></label>
          <input type="hidden" id="articleID" name="articleID" value="279"><br>
          <h3>UFC 279, Nate Diaz vs Tony Ferguson : two legends fighting</h3>
          <div class="blog">
            <img class="news" src="../IMG/Diaz.jpeg" alt="Diaz vs Ferguson">
            <p class="blog-txt">In an epic clash of two fan-favorite fighters, Nate Diaz and Tony Ferguson
              went head-to-head inside the Octagon. In a thrilling display of skill and heart, Diaz emerged
              as the victor, securing a memorable win over Ferguson. Known for his unyielding toughness and
              relentless pressure, Diaz showcased his striking prowess and ability to absorb punishment throughout
              the fight. Ferguson, a highly skilled and versatile fighter, fought valiantly but struggled to find
              his rhythm against Diaz's unorthodox style. Diaz's victory cements his status as a fan favorite and
              adds another memorable chapter to his storied career in mixed martial arts.</p>
          </div>
           
          <div class="article">
            <button class="toggle-comment-form" onclick="toggleCommentForm(this)">Add Comment</button>
            <div class="comment-form" style="display: none;">
                <label for="username">Enter Username:</label>
                <input type="text" class="username" placeholder="Enter Username"><br>
                <label for="commentText">Enter Comment:</label>
                <input type="text" class="commentText" placeholder="Enter Comment"><br>
                <button class="sendButton" onclick="addCommentToArticle(this)">Send</button>
            </div>
            <div class="comments">
            </div>
        </div>
     

        </article>
      </section>
    </div>
    
  </main>

<!-- Footer -->
  <footer>
    <div class="container">
      <div class ="logofooter">
        <a href="Accueil.html"><img src="../IMG/Logo3.png" alt="logo"></a>
      </div>
      <div class="footer-links">
        <ul>
          <li><a href="About.html">About</a></li>
        </ul>
        <p>© 2023 Act'UFC</p>
      </div>
    </div>
  </footer>
</body>
</html>